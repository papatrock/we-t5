
<style>
  .game-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
  }
  .game-card {
    border: 1px solid var(--cor-destaque);
    padding: 10px;
    text-align: center;
  }
  .game-card img {
    max-width: 100%;
    height: auto;
    aspect-ratio: 4 / 3;
    object-fit: cover;
  }
  .game-card .score {
    font-size: 2em;
    font-weight: bold;
    color: var(--cor-destaque);
  }
  .admin-actions { /* Adicionamos um estilo para os botões de admin */
    margin-top: 10px;
  }
</style>

<h1>Meus Reviews</h1>
<% if user_signed_in? && current_user.admin? %>
  <%= link_to "Novo jogo", new_jogo_path %>
<% end %>

<div class="game-list">
  <% @jogos.each do |jogo| %>
    <div class="game-card">
      <%# Mostra a imagem se a URL existir %>
      <% if jogo.imagem_url.present? %>
        <%= image_tag jogo.imagem_url %>
      <% end %>

      <h2><%= link_to jogo.nome, jogo %></h2>

      <%# Mostra a nota se o jogo tiver uma análise %>
      <% if jogo.analise %>
        <div class="score"><%= jogo.analise.nota %></div>
      <% else %>
        <div class="score">S/N</div>
      <% end %>

      <%# Movemos os botões para DENTRO do card de cada jogo %>
      <% if user_signed_in? && current_user.admin? %>
        <div class="admin-actions">
          <%= link_to "Editar", edit_jogo_path(jogo) %>
          <%= button_to "Excluir", jogo, method: :delete %>
        </div>
      <% end %>

    </div>
  <% end %>
</div>